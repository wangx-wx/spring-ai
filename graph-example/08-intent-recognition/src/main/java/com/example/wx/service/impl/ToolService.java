package com.example.wx.service.impl;

import com.example.wx.domain.ToolResult;
import com.example.wx.domain.tool.DownloadMerchantIncomeRequest;
import com.example.wx.domain.tool.MerchantOrderIncomeTimeRequest;
import com.networknt.org.apache.commons.validator.routines.EmailValidator;
import lombok.extern.slf4j.Slf4j;
import org.springframework.ai.chat.model.ToolContext;
import org.springframework.stereotype.Component;
import org.springframework.util.StringUtils;

/**
 * @author wangx
 * @description
 * @create 2025/12/11 21:54
 */
@Component("toolService")
@Slf4j
public class ToolService {

    public ToolResult allAnalyse(MerchantOrderIncomeTimeRequest request) {
        log.info("分析工具入参：{}", request);
        return ToolResult.success("allAnalyse", "PageInfo{pageNum=1, pageSize=50, size=50, startRow=1, endRow=50, total=189, pages=4, list=[ReportGroupResp(groupAddress=大学城星海东路星海音乐学院(大学城校区)北侧约30米大学城佳苑, groupId=1519440, groupName=场地测试测试822, groupPayIncomeSum=0.01, groupIncomeRate=null, groupPayOrderCount=2, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.01, groupPayAmountCountAvgUpRate=null, equipmentStartCount=2, equipmentStartCountUpRate=1.00), ReportGroupResp(groupAddress=大学城北, groupId=1522218, groupName=测试同步场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=, groupId=1521878, groupName=艾力斯特, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=大沙地, groupId=1521797, groupName=3.28场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=首单优惠, groupId=1521749, groupName=1.17首单, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=大学城青蓝街28号(大学城北地铁站E1口步行260米)智慧之城, groupId=1521575, groupName=子账号场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=3去 , groupId=1521167, groupName=3, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=啊, groupId=1521166, groupName=1, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=大学城, groupId=1521153, groupName=商创测试, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=lyy, groupId=1521135, groupName=lina测试场地, groupPayIncomeSum=0.00, groupIncomeRate=-1.00, groupPayOrderCount=0, groupPayOrderCountUpRate=-1.00, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=-1.00, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=测试详细地址, groupId=1521119, groupName=新场地营销, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=九龙, groupId=1521108, groupName=新场地shj, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=312423, groupId=1521081, groupName=新增的场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=电川, groupId=1520937, groupName=电川充电桩, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=大道, groupId=1520933, groupName=ic卡充值改造, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=的撒, groupId=1520931, groupName=测试, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=十大高手, groupId=1520919, groupName=按摩1216新的场地啊, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=水电费是否, groupId=1520918, groupName=1216新场地啊, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=我会和我好嘎嘎嘎vv, groupId=1520910, groupName=55555, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=啊, groupId=1520900, groupName=游乐车测试, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=爹咪, groupId=1520885, groupName=测试有客, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=哈哈哈, groupId=1520865, groupName=抵扣金场地3, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=测试, groupId=1520842, groupName=特殊比例场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=南村镇兴南大道368号广州番禺万达广场, groupId=1520829, groupName=会员折扣卡场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=大连青岛, groupId=1520825, groupName=测试场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=哈哈哈哈, groupId=1520818, groupName=1017新场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=广州市, groupId=1520815, groupName=来一个场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=哦五楼咯my, groupId=1520808, groupName=刷脸兑币机新场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=啦啦啦00号, groupId=1520805, groupName=新场地K, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=哈哈哈88号, groupId=1520803, groupName=新场地J, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=暑假乐园官园, groupId=1520802, groupName=暑假乐园, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=8888号, groupId=1520801, groupName=新场地J, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=jjjj5号, groupId=1520800, groupName=新场地I, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=666号, groupId=1520799, groupName=新场地H, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=8888号, groupId=1520798, groupName=新场地G, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=11号街道, groupId=1520797, groupName=新场地F, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=百元嘉卡卡8号, groupId=1520796, groupName=新场地E, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=iiii88号, groupId=1520794, groupName=新建场地E, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=卡卡卡卡77号, groupId=1520793, groupName=新场地D, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=按时鉴定会村09号, groupId=1520792, groupName=新场地C, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=田间990号, groupId=1520791, groupName=新场地B, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=天津大学99号, groupId=1520790, groupName=新场地A, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=最六的号码666号, groupId=1520788, groupName=新场地娃娃屋, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=最富贵的号数8888号, groupId=1520787, groupName=新建的场地娃娃机的用来测试, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=啦啦啦啦80号, groupId=1520785, groupName=非分账场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=测试场地详情, groupId=1520784, groupName=不要开分账, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=清河东路319号广州市番禺区人民政府, groupId=1520783, groupName=新场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=哈哈哈哈哈, groupId=1520781, groupName=0921new场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=朗朗上山头8号, groupId=1520780, groupName=非分账的外婆场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00), ReportGroupResp(groupAddress=狼外婆90号场地, groupId=1520777, groupName=游戏售货机场地, groupPayIncomeSum=0.00, groupIncomeRate=null, groupPayOrderCount=0, groupPayOrderCountUpRate=null, groupPayAmountCountAvg=0.00, groupPayAmountCountAvgUpRate=null, equipmentStartCount=0, equipmentStartCountUpRate=0.00)], prePage=0, nextPage=2, isFirstPage=true, isLastPage=false, hasPreviousPage=false, hasNextPage=true, navigatePages=8, navigateFirstPage=1, navigateLastPage=4, navigatepageNums=[1, 2, 3, 4]})");
    }

    public ToolResult downloadTool(DownloadMerchantIncomeRequest request) {
        log.info("下载工具入参：{}", request);
        if (!StringUtils.hasText(request.getEmail())) {
            return ToolResult.error("downloadTool", "请输入邮箱地址");
        }

        if (!EmailValidator.getInstance().isValid(request.getEmail())) {
            return ToolResult.error("downloadTool", "邮箱地址格式错误");
        }
        return ToolResult.success("downloadTool", "下载成功，2分钟查看");
    }
}
